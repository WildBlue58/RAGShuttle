# RAGShuttle (ç¾½æ™ºRAG) - ç¾½æ¯›çƒä¸“ä¸šé¢†åŸŸ AI èŠå¤©æœºå™¨äºº

<div align="center">

![RAGShuttle](https://img.shields.io/badge/RAGShuttle-ç¾½æ™ºRAG-blue?style=for-the-badge&logo=badminton)
![Next.js](https://img.shields.io/badge/Next.js-15-black?style=for-the-badge&logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?style=for-the-badge&logo=typescript)
![RAG](https://img.shields.io/badge/RAG-Enabled-green?style=for-the-badge)

ä¸€ä¸ªåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯çš„ä¸“ä¸šé¢†åŸŸ AI èŠå¤©æœºå™¨äººï¼Œä¸“æ³¨äºæä¾›å‡†ç¡®çš„ç¾½æ¯›çƒç›¸å…³ä¿¡æ¯é—®ç­”æœåŠ¡ã€‚

**ğŸŒ [åœ¨çº¿æ¼”ç¤º](https://rag-shuttle.vercel.app/)** â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„) â€¢ [éƒ¨ç½²](#-éƒ¨ç½²)

</div>

---

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

**RAGShuttle (ç¾½æ™ºRAG)** æ˜¯ä¸€ä¸ªæ™ºèƒ½èŠå¤©æœºå™¨äººåº”ç”¨ï¼Œç»“åˆäº† **RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰**æŠ€æœ¯ã€**å‘é‡æ•°æ®åº“**å’Œ **å¤§è¯­è¨€æ¨¡å‹**ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šçš„ç¾½æ¯›çƒé¢†åŸŸçŸ¥è¯†é—®ç­”æœåŠ¡ã€‚é¡¹ç›®å±•ç¤ºäº†ç°ä»£å…¨æ ˆå¼€å‘ã€AI åº”ç”¨å¼€å‘å’Œç³»ç»Ÿæ¶æ„è®¾è®¡çš„æœ€ä½³å®è·µã€‚

ğŸŒ **[åœ¨çº¿ä½“éªŒ](https://rag-shuttle.vercel.app/)**

**é¡¹ç›®åç§°å«ä¹‰ï¼š**

- **RAG** - Retrieval-Augmented Generationï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ï¼Œæ ¸å¿ƒæŠ€æœ¯
- **Shuttle** - ç¾½æ¯›çƒè‹±æ–‡æœ¯è¯­ï¼Œä»£è¡¨ä¸“ä¸šé¢†åŸŸ
- **ç¾½æ™º** - ç¾½æ¯›çƒæ™ºæ…§ï¼Œä¸­æ–‡åç§°ï¼Œç®€æ´æ˜“è®°

### æ ¸å¿ƒç‰¹æ€§

- âœ… **RAG æ¶æ„**ï¼šç»“åˆå‘é‡æ£€ç´¢å’Œ LLM ç”Ÿæˆï¼Œç¡®ä¿å›ç­”å‡†ç¡®æ€§å’Œç›¸å…³æ€§
- âœ… **æµå¼è¾“å‡º**ï¼šå®æ—¶æ˜¾ç¤º AI å›ç­”ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- âœ… **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œç¡®ä¿ä»£ç è´¨é‡
- âœ… **å“åº”å¼è®¾è®¡**ï¼šç§»åŠ¨ç«¯ä¼˜å…ˆï¼Œå®Œç¾é€‚é…å„ç§è®¾å¤‡
- âœ… **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆæœºåˆ¶
- âœ… **è§„èŒƒé©±åŠ¨å¼€å‘**ï¼šä½¿ç”¨ OpenSpec è¿›è¡Œéœ€æ±‚ç®¡ç†å’Œå¼€å‘æµç¨‹è§„èŒƒ

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

1. **æ™ºèƒ½é—®ç­”**
   - åŸºäºå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ç›¸å…³ä¸Šä¸‹æ–‡
   - ç»“åˆ LLM ç”Ÿæˆå‡†ç¡®ã€ä¸“ä¸šçš„å›ç­”
   - æ”¯æŒ Markdown æ ¼å¼è¾“å‡ºï¼ŒåŒ…å«é“¾æ¥å’Œå¼•ç”¨æ¥æº

2. **æµå¼å“åº”**
   - å®æ—¶æµå¼è¾“å‡ºï¼Œé€å­—æ˜¾ç¤º AI å›ç­”
   - ä¼˜åŒ–çš„åŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º

3. **çŸ¥è¯†åº“ç®¡ç†**
   - æ”¯æŒä» Wikipedia ç­‰ç½‘é¡µçˆ¬å–å†…å®¹
   - è‡ªåŠ¨æ–‡æœ¬åˆ†å—å’Œå‘é‡åŒ–
   - é«˜æ•ˆçš„å‘é‡ç›¸ä¼¼åº¦æœç´¢

### æŠ€æœ¯äº®ç‚¹

- **RAG å®ç°**ï¼šå®Œæ•´çš„æ£€ç´¢å¢å¼ºç”Ÿæˆæµç¨‹
- **å‘é‡æ•°æ®åº“**ï¼šä½¿ç”¨ Supabase + pgvector è¿›è¡Œé«˜æ•ˆçš„è¯­ä¹‰æœç´¢
- **AI SDK é›†æˆ**ï¼šä½¿ç”¨ Vercel AI SDK å®ç°æµå¼è¾“å‡º
- **ç°ä»£åŒ– UI**ï¼šshadcn/ui + Tailwind CSSï¼Œç¾è§‚ä¸”å¯å®šåˆ¶
- **ç±»å‹å®‰å…¨**ï¼šä¸¥æ ¼çš„ TypeScript ç±»å‹æ£€æŸ¥

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯

- **Next.js 15** - React æ¡†æ¶ï¼ŒApp Router
- **React 19** - UI æ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨
- **Tailwind CSS 4** - æ ·å¼æ¡†æ¶
- **shadcn/ui** - ç»„ä»¶åº“
- **lucide-react** - å›¾æ ‡åº“
- **react-markdown** - Markdown æ¸²æŸ“

### åç«¯ä¸ AI

- **Vercel AI SDK** - AI åº”ç”¨å¼€å‘æ¡†æ¶
  - `@ai-sdk/openai` - OpenAI LLM è°ƒç”¨
  - `@ai-sdk/react` - React Hooksï¼Œæµå¼è¾“å‡º
- **Supabase** - Backend as a Service
  - PostgreSQL + pgvector å‘é‡æ‰©å±•
  - å‘é‡ç›¸ä¼¼åº¦æœç´¢
- **LangChain** - AI åº”ç”¨æ¡†æ¶
  - `@langchain/community` - ç½‘é¡µçˆ¬è™«å·¥å…·
  - `@langchain/core` - æ ¸å¿ƒæ¨¡å—

### å·¥å…·ä¸ä¾èµ–

- **Puppeteer** - æ— å¤´æµè§ˆå™¨ï¼Œç½‘é¡µçˆ¬å–
- **dotenv** - ç¯å¢ƒå˜é‡ç®¡ç†
- **ts-node** - TypeScript æ‰§è¡Œç¯å¢ƒ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm / pnpm / yarn
- Chrome æµè§ˆå™¨ï¼ˆç”¨äº Puppeteerï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone <repository-url>
cd ragshuttle
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
# æˆ–
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# OpenAI é…ç½®
OPENAI_API_KEY=your_openai_api_key
OPENAI_API_BASE_URL=https://api.openai.com/v1  # å¯é€‰

# Supabase é…ç½®
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_service_key
```

4. **åˆå§‹åŒ–æ•°æ®åº“**

åœ¨ Supabase ä¸­æ‰§è¡Œä»¥ä¸‹ SQLï¼š

```sql
-- åˆ›å»º chunks è¡¨
CREATE TABLE public.chunks (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  content text null,
  vector extensions.vector(1536) null,
  url text null,
  date_updated timestamp without time zone DEFAULT now(),
  CONSTRAINT chunks_pkey PRIMARY KEY (id)
);

-- åˆ›å»ºå‘é‡æœç´¢å‡½æ•°
CREATE OR REPLACE FUNCTION get_relevant_chunks(
  query_vector vector(1536),
  match_threshold float,
  match_count int
)
RETURNS TABLE (
  id uuid,
  content text,
  url text,
  date_updated timestamp,
  similarity float
)
LANGUAGE sql STABLE
AS $$
  SELECT
    id,
    content,
    url,
    date_updated,
    1 - (vector <=> query_vector) as similarity
  FROM chunks
  WHERE 1 - (vector <=> query_vector) > match_threshold
  ORDER BY similarity DESC
  LIMIT match_count;
$$;
```

5. **å¡«å……çŸ¥è¯†åº“**

```bash
npm run seed
```

6. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

> ğŸ’¡ æŸ¥çœ‹ [è¯¦ç»†çš„é¡¹ç›®ç»“æ„è¯´æ˜](./docs/project-structure.md) äº†è§£å®Œæ•´çš„ç›®å½•ç»„ç»‡æ–¹å¼

```
RAGShuttle/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚       â””â”€â”€ route.ts         # èŠå¤© API è·¯ç”±ï¼ˆRAG å®ç°ï¼‰
â”‚   â”œâ”€â”€ globals.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx                  # ä¸»é¡µé¢
â”œâ”€â”€ components/                    # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â””â”€â”€ input.tsx
â”‚   â”œâ”€â”€ ChatInput.tsx            # èŠå¤©è¾“å…¥ç»„ä»¶
â”‚   â””â”€â”€ ChatOutput.tsx           # èŠå¤©è¾“å‡ºç»„ä»¶
â”œâ”€â”€ lib/                          # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”œâ”€â”€ utils.ts                 # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ constants/               # å¸¸é‡é…ç½®
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ scripts/                      # è„šæœ¬æ–‡ä»¶
â”‚   â””â”€â”€ seed.ts                  # çŸ¥è¯†åº“å¡«å……è„šæœ¬
â”œâ”€â”€ openspec/                     # OpenSpec è§„èŒƒæ–‡æ¡£
â”‚   â”œâ”€â”€ project.md               # é¡¹ç›®ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ specs/                   # åŠŸèƒ½è§„èŒƒ
â”‚   â””â”€â”€ changes/                 # å˜æ›´ææ¡ˆ
â”œâ”€â”€ package.json                  # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ— æ¶æ„è®¾è®¡

### RAG æµç¨‹

1. **ç”¨æˆ·æé—®** â†’ ç”Ÿæˆæ–‡æœ¬å‘é‡åµŒå…¥ï¼ˆOpenAI Embeddingï¼‰
2. **å‘é‡æ£€ç´¢** â†’ åœ¨ Supabase ä¸­æœç´¢ç›¸ä¼¼å†…å®¹ï¼ˆpgvectorï¼‰
3. **ä¸Šä¸‹æ–‡æ³¨å…¥** â†’ å°†æ£€ç´¢ç»“æœä½œä¸ºä¸Šä¸‹æ–‡æ³¨å…¥ Prompt
4. **LLM ç”Ÿæˆ** â†’ ä½¿ç”¨ GPT-4o-mini ç”Ÿæˆå›ç­”
5. **æµå¼è¾“å‡º** â†’ å®æ—¶è¿”å›å›ç­”ç»™å‰ç«¯

### æ•°æ®æµ

```
ç”¨æˆ·è¾“å…¥ â†’ Embedding â†’ å‘é‡æœç´¢ â†’ ä¸Šä¸‹æ–‡æ£€ç´¢ 
  â†“
Prompt æ„å»º â†’ LLM ç”Ÿæˆ â†’ æµå¼è¾“å‡º â†’ å‰ç«¯æ¸²æŸ“
```

---

## ğŸ¨ UI/UX ç‰¹æ€§

- **å“åº”å¼è®¾è®¡**ï¼šç§»åŠ¨ç«¯ä¼˜å…ˆï¼Œå®Œç¾é€‚é…å„ç§å±å¹•
- **ç°ä»£åŒ–ç•Œé¢**ï¼šä½¿ç”¨ shadcn/ui ç»„ä»¶ï¼Œç¾è§‚ä¸”ä¸€è‡´
- **å®æ—¶åé¦ˆ**ï¼šåŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºã€æµå¼è¾“å‡ºåŠ¨ç”»
- **æ— éšœç¢æ”¯æŒ**ï¼šéµå¾ª WCAG æ ‡å‡†ï¼Œæ”¯æŒå±å¹•é˜…è¯»å™¨

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- TypeScript ä¸¥æ ¼æ¨¡å¼
- å‡½æ•°å¼ç»„ä»¶ + React Hooks
- å®Œæ•´çš„ç±»å‹å®šä¹‰
- ä¸­æ–‡ä»£ç æ³¨é‡Š

### æäº¤è§„èŒƒ

- ä½¿ç”¨ç®€ä½“ä¸­æ–‡æäº¤ä¿¡æ¯
- æ ¼å¼ï¼š`åŠ¨è¯ + æè¿°`
- ç¤ºä¾‹ï¼š`ä¿®å¤å‘é‡æ£€ç´¢é˜ˆå€¼é—®é¢˜`ã€`ä¼˜åŒ–èŠå¤©ç•Œé¢å“åº”å¼å¸ƒå±€`

---

## ğŸš¢ éƒ¨ç½²

> ğŸ’¡ æŸ¥çœ‹ [è¯¦ç»†çš„éƒ¨ç½²æŒ‡å—](./docs/deployment.md) äº†è§£å®Œæ•´çš„éƒ¨ç½²æµç¨‹

### ğŸŒ åœ¨çº¿æ¼”ç¤º

**é¡¹ç›®å·²éƒ¨ç½²åˆ° Vercelï¼Œå¯åœ¨çº¿ä½“éªŒï¼š**

ğŸ‘‰ **[https://rag-shuttle.vercel.app/](https://rag-shuttle.vercel.app/)**

### å¿«é€Ÿéƒ¨ç½²ï¼ˆVercelï¼‰

1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ [Vercel](https://vercel.com) ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²å®Œæˆ

### ç¯å¢ƒå˜é‡é…ç½®

ç¡®ä¿åœ¨éƒ¨ç½²å¹³å°é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

- `OPENAI_API_KEY`
- `OPENAI_API_BASE_URL` (å¯é€‰)
- `SUPABASE_URL`
- `SUPABASE_KEY`

---

## ğŸ§ª æµ‹è¯•

```bash
# ç±»å‹æ£€æŸ¥
npm run type-check

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- **[ğŸ“š æ–‡æ¡£ä¸­å¿ƒ](./docs/README.md)** - å®Œæ•´çš„æ–‡æ¡£ç´¢å¼•
- **[ğŸš€ éƒ¨ç½²æŒ‡å—](./docs/deployment.md)** - è¯¦ç»†éƒ¨ç½²è¯´æ˜
- **[ğŸ¤ è´¡çŒ®æŒ‡å—](./docs/contributing.md)** - å¦‚ä½•å‚ä¸è´¡çŒ®
- **[âœ¨ æŠ€æœ¯äº®ç‚¹](./docs/project-highlights.md)** - æ ¸å¿ƒæŠ€æœ¯æ€»ç»“
- **[ğŸ“ é¡¹ç›®ç»“æ„](./docs/project-structure.md)** - ç›®å½•ç»“æ„è¯´æ˜

### å­¦ä¹ èµ„æº

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Supabase å‘é‡æœç´¢](https://supabase.com/docs/guides/ai)
- [LangChain æ–‡æ¡£](https://js.langchain.com/)

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](./docs/contributing.md) äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ™ è‡´è°¢

- [Vercel AI SDK](https://sdk.vercel.ai/) - ä¼˜ç§€çš„ AI åº”ç”¨å¼€å‘æ¡†æ¶
- [Supabase](https://supabase.com/) - å¼ºå¤§çš„ Backend as a Service
- [shadcn/ui](https://ui.shadcn.com/) - ç¾è§‚çš„ç»„ä»¶åº“

---

<div align="center">

**ç”¨ â¤ï¸ å’Œ â˜• æ„å»º**

Made with Next.js, TypeScript, and RAG

</div>
